http://stackoverflow.com/questions/16510831/how-to-use-select-for-reading-stdin